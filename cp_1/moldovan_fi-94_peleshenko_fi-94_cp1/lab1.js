const text = `а годы шли да шли быстро и неслышно как подснежные воды протекала молодость
елены в бездействии внешнем во внутренней борьбе и тревоге подруг у нее не
было изо всех девиц посещавших дом стаховых она не сошлась ни с одной
родительская власть никогда не тяготела над еленой а с шестнадцатилетнего
возраста она стала почти совсем независима она зажила собственной своею
жизнью но жизнью одинокой ее душа и разгоралась и погасала одиноко она билась
как птица в клетке а клетки не было никто не стеснял ее и никто не удерживал
а она рвалась и томилась она иногда сама себя не понимала даже боялась самой
себя все что окружало ее казалось ей не то бессмысленным не то непонятным
как жить без любви а любить некого думала она и страшно становилось ей от этих
дум от этих ощущений восемнадцати лет она чуть не умерла от злокачественной
лихорадки потрясенный до основания весь ее организм от природы здоровый и
крепкий долго не мог справиться последние следы болезни исчезли наконец но отец
елены николаевны все еще не без озлобления толковал об ее нервах иногда ей
приходило в голову что она желает чего то чего никто не желает о чем никто не
мыслит в целой россии потом она утихала даже смеялась над собой беспечно
проводила день за днем но внезапно что то сильное безымянное с чем она
совладеть не умела так и закипало в ней так и просилось вырваться наружу гроза проходила опускались усталые не взлетевшие крылья но порывы эти не обходились
ей даром как она ни старалась не выдать того что в ней происходило тоска
взволнованной души сказывалась в самом ее наружном спокойствии и родные ее
часто были вправе пожимать плечами удивляться и не понимать ее странностей
в день с которого начался наш рассказ елена дольше обыкновенного не отходила
от окна она много думала о берсеньеве о своем разговоре с ним
потребность в защите информации возникает в связи с необходимостью обеспечить
секретность исследований в стратегических областях правильно распределять
информацию о промышленных разработках и регулировать информацию о личности в
современном обществе начало восьмидесятых годов рассматривается как начальный
пункт когда социальные протесты в демократических странах помогли сплестись
глобальной сети хакеров политический флирт на почве нарушения прав человека
породил тьму организаций хакеров в массе стран мира почти одновременно менее
чем за год эти группы узнали прелесть сотрудничества их члены свободно
обменивались идеями через национальные границы часто по украденным паролям
дающим бесплатный доступ к телефонной сети несколько причин обьединившись
вместе сделали международный компьютерный разбой лекгим и действенным новые
технологии создавшие более мощные и дешевые компьютеры развитие коммуникаций
для связи и международный характер стандартов установленных транснациональными
корпорациями в принципе есть лишь два вида угрозы раскрытие и видоизменение
данных раскрытие данных предполагает что кому то случайно или после
целенаправленных действий стал известен смысл информации этот вид нарушения
встречается наиболее часто последствия могут быть самые разные если похищен
текст книги справочника на которую потрачены месяцы работы десятков людей
то для коллектива авторов это катастрофа и потери могут выражаться в тысячах
долларов однако если книга уже издана то достаточно лишь слегка пожуритьпохитителя и рассказать о случившемся в отделе новостей газеты или по
телевидению похититель может сделать книге великолепную рекламу очень важную
информацию оберегаемую от раскрытия представляют сведения о людях истории
болезни письма состояния счетов в банках однако по мнению большого числа
специалистов угрозы личности с введением компьютеров остались на том же уровне
и в том же состоянии что и до обширного использования эвм
в современном мире туризм становится все более важной
быстроразвивающейся отраслью хозяйства доходы от туризма становятся
важной частью валютных поступлений во многих странах развитие
туризма способствует росту общественного производства улучшению
его структуры росту производительности труда во многих отраслях
экономики даже не имеющих к туризму прямого отношениям
еждународное туристское потребление стимулирует многочисленные
экономические процессы открывающие дополнительные рынки для
продукции нетуристских отраслей создавая тем самым условия для
роста производства все эти факторы делают развитие индустрии туризма очень
важным для стран с переходным типом экономики экономические трудности которые
переживают эти государства не могут не сказаться на уровне развития туризма
но при этом каждая страна имеет в этом отношении свою специфику цель данной 
работы рассмотреть и проанализировать организацию туристской деятельности в
стране с переходным типом экономики на примере венгрии в начале
рассматриваются теоретико методические положения исследования затем дается
оценка различных факторов развития индустрии туризма венгрии
природноресурсный культурноисторический и инфраструктурный потенциал
комплексное туристское районирование далее проводится анализ современного
состояния индустрии туризма венгрии ее отдельных компонентов на фоне общего
уровня экономического развития страны дается оценка социально экономической 
роли индустрии туризма в экономике венгрии и в заключение проводится общий
анализ организации туристской деятельности в странах с переходным типом
экономики в общем и венгрии в частности венгрия принадлежа к странам с
переходным типом экономики имеет тем не менее специфические черты которые
отличают ее от других стран этого типа в отношении развития индустрии туризма
основной такой чертой является то что туризм венгрии развивается уже давно
еще в начале двадцатого века в этой стране сложились традиционные туристские
связи туризм является важной отраслью народного хозяйства современно`;

const remove_whitespaces = (text) => {
  return text.replace(/\s/g, '');
}

/*const remove_whitespaces = (text) => {
  return text.replace();
}*/

const compute_frequencies = (text) => {
  // Підрахуємо кількість
  let occurences = {};
  let total = 0;
  for (const literal of text) {
    if (occurences[literal] === undefined) {
      occurences[literal] = 0;
    }
    occurences[literal] += 1;
    total += 1;
  }
  // Підраховуємо частоти
  let frequencies = {};
  for (const literal of Object.keys(occurences)) {
    frequencies[literal] = occurences[literal] / total;
  }
  return frequencies;
}

const compute_bigram_frequencies = (text) => {
  // Підрахуємо кількість
  let occurences = {};
  let total = 0;
  for (let i = 0; i < text.length - 1; i++) {
  // for (let i = 0; i < text.length - 1; i += 2) {
    const literal = text[i] + text[i+1];
    if (occurences[literal] === undefined) {
      occurences[literal] = 0;
    }
    occurences[literal] += 1;
    total += 1;
  }
  // Підраховуємо частоти
  let frequencies = {};
  for (const literal of Object.keys(occurences)) {
    frequencies[literal] = occurences[literal] / total;
  }
  return frequencies;
}

const compute_bigram_frequencies_without_intersection = (text) => {
  // Підрахуємо кількість
  let occurences = {};
  let total = 0;
  for (let i = 0; i < text.length - 1; i += 2) {
    const literal = text[i] + text[i+1];
    if (occurences[literal] === undefined) {
      occurences[literal] = 0;
    }
    occurences[literal] += 1;
    total += 1;
  }
  // Підраховуємо частоти
  let frequencies = {};
  for (const literal of Object.keys(occurences)) {
    frequencies[literal] = occurences[literal] / total;
  }
  return frequencies;
}

const best_frequencies = (table, n) => {
  const entries = Object.entries(table); // {'v': 0.4, 'd': 0.6} -> [['v', 0.4], ['d', 0.6]]
  const sorted_entries = entries.sort((a, b) => {
    if (a[1] > b[1]) return -1;
    if (a[1] < b[1]) return 1;
    return 0;
  });
  return sorted_entries.slice(0, n);
}

const entropy = (frequencies, n) => {
  const element_sum_value = (i) => {
    return frequencies[i] * Math.log2(frequencies[i]);
  }

  return (1/n) * (- Object.keys(frequencies)
    .map(element_sum_value)
    .reduce((sum, p) => sum + p, 0));
}


(() => {
  const data = remove_whitespaces(text);
  const frequencies_1m_with_gaps = compute_frequencies(text);
  const frequencies_2m_with_gaps_with_intersection = compute_bigram_frequencies(text);
  const frequencies_2m_with_gaps_without_intersection = compute_bigram_frequencies_without_intersection(text);
  const frequencies_1m_no_gaps = compute_frequencies(data);
  const frequencies_2m_no_gaps_with_intersection = compute_bigram_frequencies(data);
  const frequencies_2m_no_gaps_without_intersection = compute_bigram_frequencies_without_intersection(data);

  console.log(`Table for literals`, frequencies_1m_no_gaps);
  console.log(`Table for bigrams`, frequencies_2m_no_gaps_with_intersection);
  
  console.log(`Best bigrams`, best_frequencies(frequencies_2m_no_gaps_with_intersection, 7));

  console.log(`H1 with gaps = ${entropy(frequencies_1m_with_gaps, 1)}`);
  console.log(`H2 with gaps with intersection = ${entropy(frequencies_2m_with_gaps_with_intersection, 2)}`);
  console.log(`H2 with gaps without intersection = ${entropy(frequencies_2m_with_gaps_without_intersection, 2)}`);
  console.log(`H1 no gaps = ${entropy(frequencies_1m_no_gaps, 1)}`);
  console.log(`H2 no gaps with intersection = ${entropy(frequencies_2m_no_gaps_with_intersection, 2)}`);
  console.log(`H2 no gaps without intersection = ${entropy(frequencies_2m_no_gaps_without_intersection, 2)}`);
})()
